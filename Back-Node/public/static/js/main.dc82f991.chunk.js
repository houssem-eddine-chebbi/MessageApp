(this["webpackJsonpfront-react"]=this["webpackJsonpfront-react"]||[]).push([[0],{106:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),s=a.n(r),i=(a(106),a(56)),o=a(11),l=a(164),u=a(166),j=a(92),b=a(52),d=a(177),p=a(169),O=a(88),h=a.n(O),m=a(23),x=a(4),f=Object(n.createContext)({displayName:""}),g=function(e){var t=e.children,a=Object(n.useState)(""),c=Object(m.a)(a,2),r=c[0],s=c[1];return Object(x.jsx)(f.Provider,{value:{displayName:r,setDisplayName:s},children:t})},v=function(){return Object(n.useContext)(f)},y=Object(l.a)({container:{width:"100%",height:"100%"},item:{padding:24,margin:"auto"},paper:{padding:24},textField:{width:"100%"},title:{textAlign:"center"},icone:{width:250,height:250},center:{margin:"auto",padding:"0 50px"},submit:{margin:"12px auto"}}),S=function(){var e=v(),t=e.displayName,a=e.setDisplayName,n=y({}),c=n.container,r=n.item,s=n.paper,i=n.textField,l=n.title,O=n.icone,m=n.center,f=n.submit,g=Object(o.g)();return Object(x.jsx)(u.a,{container:!0,className:c,children:Object(x.jsx)(u.a,{item:!0,className:r,children:Object(x.jsxs)(j.a,{elevation:3,className:s,children:[Object(x.jsx)(b.a,{variant:"h4",className:l,gutterBottom:!0,children:"Messages App"}),Object(x.jsx)(u.a,{item:!0,className:m,children:Object(x.jsx)(h.a,{className:O,color:"secondary"})}),Object(x.jsx)(d.a,{color:"secondary",className:i,id:"outlined-basic",label:"Enter your display Name",variant:"outlined",value:t,onChange:function(e){a&&a(e.target.value)}}),Object(x.jsx)(p.a,{className:f,fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){return g.push("/messages")},children:"Submit"})]})})})},E=a(175),M=a(179),w=a(176),N=a(37),P=a(90),C=a(178),G=function(e){var t=e.children,a=e.value,n=e.index,c=Object(P.a)(e,["children","value","index"]);return Object(x.jsx)("div",Object(N.a)(Object(N.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),{},{style:{width:"100%"},children:a===n&&Object(x.jsx)(C.a,{p:3,children:t})}))},_=a(47),A=a(38),T=function(e,t){switch(t.type){case"GET_PUBLIC_MESSAGES":return Object(A.a)(e,(function(e){var a;e.publicMessages=null!==(a=t.payload.publicMessages)&&void 0!==a?a:[]}));case"GET_PRIVATE_MESSAGES":return Object(A.a)(e,(function(e){var a;e.privateMessages=null!==(a=t.payload.privateMessages)&&void 0!==a?a:[]}));case"POST_MESSAGE":return Object(A.a)(e,(function(e){var a=t.payload.message;a&&(a.private?e.privateMessages=[].concat(Object(_.a)(e.privateMessages),[a]):e.publicMessages=[].concat(Object(_.a)(e.publicMessages),[a]))}));default:return Object(N.a)({},e)}},k=a(30),I=a.n(k),R=a(51),B=a(63),F=a.n(B),L=function(){var e=Object(R.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("http://localhost:5555/api/messages/publicmessages");case 2:return a=e.sent,e.abrupt("return",{type:"GET_PUBLIC_MESSAGES",payload:{publicMessages:a.data.messages}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(R.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload.displayName,e.next=3,F.a.get("http://localhost:5555/api/messages/privatemessages?displayName=".concat(a));case 3:return n=e.sent,e.abrupt("return",{type:"GET_PRIVATE_MESSAGES",payload:{privateMessages:n.data.messages}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(R.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload.message,e.next=3,F.a.post("http://localhost:5555/api/messages/postmessage",{message:a});case 3:return e.abrupt("return",{type:"POST_MESSAGE",payload:{message:a}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D={publicMessages:[],privateMessages:[]},H=Object(n.createContext)(D),J=function(e){var t=e.children,a=Object(n.useReducer)(T,D),c=Object(m.a)(a,2),r=c[0],s=function(e,t){return{getPublicMessages:function(){return t({type:"GET_PUBLIC_MESSAGES",payload:{}})},getPrivateMessages:function(e){return t({type:"GET_PRIVATE_MESSAGES",payload:{displayName:e}})},postMessage:function(e){return t({type:"POST_MESSAGE",payload:{message:e}})}}}(0,function(e){return function(){var t=Object(R.a)(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a.type,t.next="GET_PUBLIC_MESSAGES"===t.t0?3:"GET_PRIVATE_MESSAGES"===t.t0?9:"POST_MESSAGE"===t.t0?15:21;break;case 3:return t.t1=e,t.next=6,L(a);case 6:return t.t2=t.sent,(0,t.t1)(t.t2),t.abrupt("break",23);case 9:return t.t3=e,t.next=12,U(a);case 12:return t.t4=t.sent,(0,t.t3)(t.t4),t.abrupt("break",23);case 15:return t.t5=e,t.next=18,V(a);case 18:return t.t6=t.sent,(0,t.t5)(t.t6),t.abrupt("break",23);case 21:return e(a),t.abrupt("break",23);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c[1]));return Object(x.jsx)(H.Provider,{value:Object(N.a)(Object(N.a)({},r),{},{actions:s}),children:t})},q=function(){return Object(n.useContext)(H)},W=a(170),z=a(171),K=Object(l.a)({card:function(e){return{margin:24,marginLeft:e.isRight?"auto":24}}}),Q=function(e){var t=e.message,a=v().displayName,n=K({isRight:a===t.from}).card;return Object(x.jsx)(W.a,{variant:"outlined",className:n,children:Object(x.jsxs)(z.a,{children:[Object(x.jsx)(b.a,{color:"textSecondary",gutterBottom:!0,children:t.from}),Object(x.jsx)(b.a,{variant:"h5",component:"h2",children:t.body})]})})},X=function(e){var t=q(),a=t.publicMessages,c=t.actions;return Object(n.useEffect)((function(){null===c||void 0===c||c.getPublicMessages()}),[]),Object(x.jsx)(u.a,{container:!0,style:{maxHeight:"70vh",overflow:"scroll"},children:a.map((function(e){return Object(x.jsx)(u.a,{container:!0,children:Object(x.jsx)(Q,{message:e})})}))})},Y=a(168),Z=a(172),$=a(173),ee=a(89),te=Object(l.a)({leftSide:{width:"100%",borderLeft:"1px solid rgba(0, 0, 0, 0.12)",maxHeight:"70vh",overflow:"scroll"},listItem:{marginBottom:12,border:"1px solid rgba(0, 0, 0, 0.12)"}}),ae=function(){var e=te({}),t=e.leftSide,a=e.listItem,c=v().displayName,r=q(),s=r.privateMessages,i=r.actions,o=Object(n.useState)(""),l=Object(m.a)(o,2),j=l[0],b=l[1],d=Object(ee.uniq)([].concat(Object(_.a)(s.map((function(e){return e.from||""}))),Object(_.a)(s.map((function(e){return e.to||""}))))).filter((function(e){return""!==e&&e!==c}));return Object(n.useEffect)((function(){null===i||void 0===i||i.getPrivateMessages(c)}),[]),Object(x.jsxs)(u.a,{container:!0,style:{width:"100%"},children:[Object(x.jsx)(u.a,{item:!0,sm:4,style:{width:"100%"},children:Object(x.jsx)(Y.a,{component:"nav","aria-label":"main mailbox folders",children:d.map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Z.a,{button:!0,onClick:function(){return b(e)},className:a,children:Object(x.jsx)($.a,{primary:e})})})}))})}),Object(x.jsx)(u.a,{item:!0,sm:8,className:t,children:""!==j&&s.filter((function(e){return e.from===j||e.to===j})).map((function(e){return Object(x.jsx)(u.a,{container:!0,children:Object(x.jsx)(Q,{message:e})})}))})]})},ne=a(174),ce=a(180),re=function(){var e={body:"",private:!1,from:v().displayName},t=Object(n.useState)(e),a=Object(m.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),i=Object(m.a)(s,2),o=i[0],l=i[1],j=q().actions;return Object(x.jsxs)(u.a,{item:!0,container:!0,style:{padding:"24px 58px",width:"100%"},children:[o&&Object(x.jsx)(u.a,{container:!0,children:Object(x.jsx)(b.a,{color:"secondary",children:o})}),Object(x.jsx)(u.a,{item:!0,sm:10,style:{paddingRight:24},children:Object(x.jsx)(d.a,{style:{width:"100%"},color:"secondary",id:"send-message",label:"Enter your Message",variant:"outlined",value:c.body,onChange:function(e){r((function(t){return Object(A.a)(t,(function(t){t.body=e.target.value}))}))},multiline:!0,minRows:5})}),Object(x.jsxs)(u.a,{item:!0,sm:2,children:[Object(x.jsx)(u.a,{container:!0,children:Object(x.jsx)(p.a,{variant:"contained",color:"secondary",style:{width:"100%"},onClick:function(t){if(c.private&&!c.to)return l("please select a recipient");null===j||void 0===j||j.postMessage(c),r(e)},children:"Send"})}),Object(x.jsx)(u.a,{container:!0,children:Object(x.jsx)(ne.a,{control:Object(x.jsx)(ce.a,{checked:c.private,onChange:function(){return r((function(e){return Object(A.a)(e,(function(t){t.private=!e.private}))}))}}),label:"Private"})}),c.private&&Object(x.jsx)(d.a,{style:{width:"100%"},color:"secondary",id:"recipient",label:"Recipient",value:c.to,onChange:function(e){return r((function(t){return Object(A.a)(t,(function(t){t.to=e.target.value}))}))}})]})]})},se=function(){var e=v().displayName,t=Object(n.useState)(0),a=Object(m.a)(t,2),c=a[0],r=a[1];return Object(x.jsx)(x.Fragment,{children:e?Object(x.jsxs)(u.a,{container:!0,children:[Object(x.jsx)(E.a,{position:"static",color:"secondary",children:Object(x.jsxs)(M.a,{value:c,onChange:function(e,t){r(t)},"aria-label":"simple tabs example",children:[Object(x.jsx)(w.a,{style:{margin:"auto"},label:"Public Channel"}),Object(x.jsx)(w.a,{style:{margin:"auto"},label:"Private Messages"})]})}),Object(x.jsx)(G,{value:c,index:0,children:Object(x.jsx)(X,{})}),Object(x.jsx)(G,{value:c,index:1,children:Object(x.jsx)(ae,{})}),Object(x.jsx)(re,{})]}):Object(x.jsx)(o.a,{to:{pathname:"/login"}})})};var ie=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(g,{children:Object(x.jsx)(J,{children:Object(x.jsx)(i.a,{children:Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{path:"/login",children:Object(x.jsx)(S,{})}),Object(x.jsx)(o.b,{path:"/messages",children:Object(x.jsx)(se,{})}),Object(x.jsx)(o.b,{path:"",children:Object(x.jsx)(o.a,{to:"/login"})})]})})})})})},oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,182)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(ie,{})}),document.getElementById("root")),oe()}},[[137,1,2]]]);
//# sourceMappingURL=main.dc82f991.chunk.js.map